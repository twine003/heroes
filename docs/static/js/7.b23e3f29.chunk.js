(this.webpackJsonpheroes=this.webpackJsonpheroes||[]).push([[7],{643:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return h}));var n=a(634),c=a.n(n),r=a(635),s="https://gateway.marvel.com/v1/public/",o="03e206b64b2c7dd6eea20b183d2f259d",i="57a1a3bed71f089b1352bee0703ccbfe",u=function(e){var t=Object.assign({offset:0,name:"",exactMatch:!1,sortName:"",limit:20},e),a=t.offset,n=t.name,c=t.exactMatch,r=t.sortName,u=t.limit,l="".concat(s,"characters?ts=1&apikey=").concat(i,"&hash=").concat(o,"&offset=").concat(a,"&orderBy=").concat(r,"name&limit=").concat(u);return n&&(l+=c?"&name=".concat(n):"&nameStartsWith=".concat(n)),fetch(l).then((function(e){return e.json()})).then((function(e){try{if(200===e.code){if(a>e.data.total)throw new Error("Page does not exist.");var t=Math.floor(e.data.total/u);return{characters:e.data.results,maxPage:e.data.total%u>0?t+1:t}}throw new Error("Marvel API bad response. Status code ".concat(e.code,"."))}catch(n){return console.error(n),{characters:[],maxPage:0}}}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a="".concat(s,"characters/").concat(e,"?ts=1&apikey=").concat(i,"&hash=").concat(o,"&offset=").concat(t,"&limit=20");return fetch(a).then((function(e){return e.json()})).then((function(e){return{single_character:e.data.results[0]}}))},h=function(e){var t="".concat(s,"stories/").concat(e,"?ts=1&apikey=").concat(i,"&hash=").concat(o),a="".concat(s,"stories/").concat(e,"/comics?ts=1&apikey=").concat(i,"&hash=").concat(o);return fetch(t).then((function(e){return e.json()})).then(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getStorieById",t),200!==t.code){e.next=10;break}return s=null===(n=t.data)||void 0===n?void 0:n.results[0],e.next=5,fetch(a).then((function(e){return e.json()}));case 5:return o=e.sent,s.comics.items=null===(r=o.data)||void 0===r?void 0:r.results,e.abrupt("return",{storie:s});case 10:return e.abrupt("return",{storie:null});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},670:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return l}));var n=a(634),c=a.n(n),r=a(26),s=a(635),o=a(65),i=a(643),u=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(e);case 2:n=t.sent,a(h(Object(r.a)(Object(r.a)({},n),{},{page:e.page})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)(e.id);case 2:n=t.sent,a(p(Object(r.a)(Object(r.a)({},n),{},{page:e.page})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return{type:o.a.charaptersLoad,payload:e}},p=function(e){return{type:o.a.charapterLoadSingle,payload:e}}},831:function(e,t,a){"use strict";a.r(t);var n=a(20),c=a(26),r=a(821),s=a(1),o=a(160),i=a(670),u=a(629),l=a(159),h=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(u.k,{sm:"6",lg:"4",children:Object(n.jsx)(u.f,{children:Object(n.jsx)(u.g,{children:Object(n.jsxs)(u.F,{children:[Object(n.jsx)(u.k,{sm:"6",children:Object(n.jsx)(u.x,{src:e.thumbnail.path+".jpg",fluid:!0,thumbnail:!0,className:"mb-2"})}),Object(n.jsxs)(u.k,{sm:"6",children:[Object(n.jsx)("p",{children:Object(n.jsx)("b",{children:e.name})}),Object(n.jsx)(l.b,{to:"/caracter/".concat(e.id),children:"Ver mas"})]})]})})})})})},p=a(162),j=a(163),f=a(165),d=a(164),b=function(e){return Object(n.jsx)("li",{className:e.current===e.page?"active":"",children:Object(n.jsx)("a",{role:"button",onClick:function(){return e.clickHandler(e.page)},children:e.page})})};b.defaultProps={clickHandler:function(){}};var m=b,g=function(e){var t=e.charCode||e.keyCode||0;8===t||9===t||13===t||46===t||t>=35&&t<=40||t>=48&&t<=57||t>=96&&t<=105||e.preventDefault()},x=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={pages:[]},e.setPages=function(t,a){var n=[];if(t>0)for(var c=0;c<5;c++){var r=t+c;r<=a&&n.push(r)}e.setState({pages:n})},e.previous=function(){var t=e.state.pages[0];t>1&&(e.setPages(t-5,e.props.maxPage),e.props.onPrevious(t))},e.handleChange=function(t){if("Enter"===t.key){var a=+t.target.value;try{if(isNaN(a)||0===a||a>e.props.maxPage)throw new Error("Invalid number page.");e.props.onChangePage(a),e.input.value=""}catch(n){console.error(n),e.input.value=""}}},e}return Object(j.a)(a,[{key:"componentWillMount",value:function(){this.setPages(this.props.page,this.props.maxPage)}},{key:"componentWillReceiveProps",value:function(e){-1===this.state.pages.indexOf(e.page)&&this.setPages(e.page,e.maxPage)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"Paginator",children:[Object(n.jsxs)("div",{className:"form-group-lg text-center center-block Paginator-go2Page",children:[Object(n.jsx)("label",{htmlFor:"go2Page",children:"Go to Page"}),Object(n.jsx)("input",{id:"go2Page",ref:function(t){return e.input=t},type:"text",maxLength:2,className:"form-control text-center",onKeyDown:g,onKeyUp:this.handleChange}),Object(n.jsxs)("small",{className:"help-block",children:["Page ",this.props.page," out of ",this.props.maxPage,"."]})]}),Object(n.jsx)("nav",{className:"text-center","aria-label":"Page navigation",children:Object(n.jsxs)("ul",{className:"pagination pagination-lg",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{role:"button","aria-label":"Previous",onClick:this.previous,children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),this.state.pages.map((function(t){return Object(n.jsx)(m,{page:t,current:e.props.page,clickHandler:e.props.onChangePage},"page-".concat(t))})),Object(n.jsx)("li",{children:Object(n.jsx)("a",{role:"button","aria-label":"Next",onClick:function(){return e.props.onNext(e.state.pages[4])},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})]})}}]),a}(s.Component),O=a(820),v=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",exactMatch:!1},e.changeFilterByName=function(t){e.setState({name:t.target.value})},e.reset=function(){e.state.name.trim()&&(e.setState({name:""}),e.props.onReset())},e.submit=function(t){t.preventDefault(),e.state.name.trim()&&e.props.onApply()},e.changeExactMatchFlag=function(t){e.setState({exactMatch:t.target.checked})},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("form",{onSubmit:this.submit,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)(O.f,{controlId:"filterByName",children:[Object(n.jsx)(O.d,{children:"Search by Name"}),Object(n.jsx)(O.e,{type:"text",value:this.state.name,onChange:this.changeFilterByName})]})}),Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsxs)(O.b,{children:[Object(n.jsx)(O.a,{type:"reset",onClick:this.reset,children:"RESET"}),Object(n.jsx)(O.a,{type:"submit",bsStyle:"primary",children:"APPLY"})]}),Object(n.jsx)(O.c,{checked:this.state.exactMatch,onChange:this.changeExactMatchFlag,children:"Exact match."})]})]})})})}}]),a}(s.Component);v.defaultProps={onApply:function(){},onReset:function(){}};var y=v;t.default=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.characters})),a=t.characters||[],l=Object(s.useState)(""),p=Object(r.a)(l,2),j=p[0],f=p[1],d=function(e){e!==t.page&&b({page:e})},b=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({page:1,name:t.filters.name.value,exactMatch:t.filters.name.exactMatch,sortName:t.sortName,limit:t.limitPerPage},a),c=n.page,r=n.name,s=n.exactMatch,o=n.sortName,u=n.limit,l=c?(c-1)*u:0;e(Object(i.a)({page:c,offset:l,name:r,exactMatch:s,sortName:o,limit:u}))};Object(s.useEffect)((function(){b()}),[e]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(u.F,{children:[Object(n.jsx)(u.k,{md:"6",children:Object(n.jsx)(x,{ref:function(e){return e},page:null===t||void 0===t?void 0:t.page,maxPage:null===t||void 0===t?void 0:t.maxPage,onChangePage:d,onNext:function(e){console.log(e),d(e+1)},onPrevious:function(e){e>1&&d(e-1)}})}),Object(n.jsx)(u.k,{md:"6",children:Object(n.jsx)(y,{ref:function(e){return f(e)},onApply:function(){console.log(j),b({name:j.state.name,exactMatch:j.state.exactMatch})},onReset:function(){b({name:"",exactMatch:!1})}})})]}),Object(n.jsx)(u.F,{children:a&&a.map((function(e){return Object(n.jsx)(h,Object(c.a)({},e),e.id)}))})]})}}}]);
//# sourceMappingURL=7.b23e3f29.chunk.js.map